<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quran Audio Player</title>
    <link rel="stylesheet" href="styles.css"> <!-- Include your stylesheet -->
    <style>
        /* Basic resets and styles */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #fff;
            color: #000;
            transition: background-color 0.3s, color 0.3s;
        }
        body.dark-mode {
            background-color: #333;
            color: #f9f9f9;
        }
        .dark-mode .sheikh-item {
            background-color: #444;
        }
        /* Overlay Styles */
        .audio-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            color: #fff;
            transition: opacity 0.5s;
            flex-direction: column;
            text-align: center;
        }
        .audio-overlay.active {
            display: flex;
        }
        .audio-overlay .now-playing {
            font-size: 1.5rem;
            font-weight: bold;
            animation: flowingText 5s linear infinite;
            background: linear-gradient(90deg, #ff6f61, #dce35b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }
        @keyframes flowingText {
            0% { background-position: 0%; }
            100% { background-position: 100%; }
        }
        .audio-overlay img {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            margin-bottom: 1rem;
        }
        .audio-overlay .surah-title {
            margin-top: 1rem;
            font-size: 1.2rem;
            color: #dce35b;
        }
        /* Sheikh List Styles */
        #reciter-selector {
            display: flex;
            flex-wrap: wrap;
            padding: 20px;
        }
        .sheikh-item {
            cursor: pointer;
            display: flex;
            align-items: center;
            margin: 10px;
            padding: 10px;
            border-radius: 5px;
            transition: background-color 0.3s;
            background-color: #f9f9f9;
            color: #333;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .sheikh-item img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin-right: 10px;
        }
        .sheikh-item.active {
            background-color: #ddd;
        }
        /* Playback Controls Styles */
        .playback-controls {
            display: flex;
            justify-content: center;
            margin: 1rem 0;
            padding: 0 10px;
        }
        .playback-controls button {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 10px 20px;
            margin: 0 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
        }
        .playback-controls button:hover {
            background-color: #0056b3;
        }
        .playback-controls select {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 10px;
            margin: 0 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }
        /* Dark Mode Toggle Styles */
        #dark-mode-toggle {
            cursor: pointer;
            font-size: 1.5rem;
            margin: 10px;
            position: fixed;
            top: 10px;
            right: 10px;
        }
    </style>
</head>
<body>
    <div id="audio-overlay" class="audio-overlay">
        <div class="now-playing">Now Playing</div>
        <img id="reciter-image" src="" alt="Reciter Image">
        <div id="surah-title" class="surah-title"></div>
    </div>

    <div class="playback-controls">
        <button id="playPauseButton"><i class="fas fa-play"></i></button>
        <button id="stopButton"><i class="fas fa-stop"></i></button>
        <button id="rewindButton"><i class="fas fa-backward"></i></button>
        <select id="speedControl">
            <option value="0.5">0.5x</option>
            <option value="1" selected>1x</option>
            <option value="1.5">1.5x</option>
            <option value="2">2x</option>
        </select>
    </div>

    <div id="reciter-selector"></div>
    <div id="dark-mode-toggle" class="fas fa-moon"></div>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const audioOverlay = document.getElementById('audio-overlay');
            const playPauseButton = document.getElementById('playPauseButton');
            const stopButton = document.getElementById('stopButton');
            const rewindButton = document.getElementById('rewindButton');
            const speedControl = document.getElementById('speedControl');
            const sheikhList = document.getElementById('reciter-selector');
            const darkModeToggle = document.getElementById('dark-mode-toggle');
            const reciterImage = document.getElementById('reciter-image');
            const surahTitle = document.getElementById('surah-title');
            let currentAudio;

            const urlParams = new URLSearchParams(window.location.search);
            const surahId = urlParams.get('surah');

            const sheikhs = [
                { id: '1', name: 'AbdulBaset AbdulSamad', imageUrl: 'qmkxyvfiawea1.jpg' },
                { id: '2', name: 'Maher Al-Muaiqly', imageUrl: 'images (6).jpeg' },
                { id: '3', name: 'Abdur-Rahman As-Sudais', imageUrl: 'Abdul-Rahman-Al-Sudais.jpg' },
                { id: '4', name: 'Saud Al-Shuraim', imageUrl: 'transparent-saud-al-shuraim.webp' },
                { id: '5', name: 'Mishary Rashid Alafasy', imageUrl: 'download (10).jpeg' },
                { id: '6', name: 'Ali Jaber', imageUrl: 'ali-jaber.webp' },
                { id: '7', name: 'Yasser Al-Dosari', imageUrl: 'download (11).jpeg' },
                { id: '8', name: 'Salah Al-Budair', imageUrl: 'download (12).jpeg' },
                { id: '9', name: 'Ahmad Al-Ajmi', imageUrl: 'download (13).jpeg' },
                { id: '10', name: 'Khalil Al-Husary', imageUrl: 'download (14).jpeg' },
                { id: '11', name: 'Muhammad Siddiq Al-Minshawi', imageUrl: 'download (15).jpeg' },
                { id: '12', name: 'Saad Al-Ghamdi', imageUrl: 'download (16).jpeg' },
                { id: '13', name: 'Abu Bakr Al-Shatri', imageUrl: 'download (17).jpeg' },
                { id: '14', name: 'Hani Rifai', imageUrl: 'download (18).jpeg' },
                { id: '15', name: 'Abdullah Basfar', imageUrl: 'download (19).jpeg' },
                { id: '17', name: 'Mohammad Al-Tablawi', imageUrl: 'mohamed-tablawi.jpg' },
                { id: '18', name: 'Khalid Al-Jaleel', imageUrl: 'download (20).jpeg' },
                { id: '19', name: 'Yusuf Al-Qaradawi', imageUrl: 'download (31).jpeg' }
            ];

            const fetchSurahDetails = async (surahId) => {
                try {
                    const response = await fetch(`https://api.alquran.cloud/v1/surah/${surahId}`);
                    const data = await response.json();
                    return data.data;
                } catch (error) {
                    console.error('Error fetching Surah details:', error);
                }
            };

            const loadSurah = async (surahId) => {
                const surahDetails = await fetchSurahDetails(surahId);
                if (surahDetails) {
                    surahTitle.innerText = `Now Playing Surah ${surahDetails.englishName}`;
                }
            };

            const updateOverlay = async (sheikh) => {
                reciterImage.src = sheikh.imageUrl;
                audioOverlay.classList.add('active');
                if (currentAudio) {
                    currentAudio.pause();
                }
                currentAudio = new Audio(`https://path-to-your-audio-files/${sheikh.id}.mp3`);
                currentAudio.play();
                await loadSurah(surahId);
            };

            const setupSheikhList = () => {
                sheikhs.forEach(sheikh => {
                    const item = document.createElement('div');
                    item.classList.add('sheikh-item');
                    item.innerHTML = `
                        <img src="${sheikh.imageUrl}" alt="${sheikh.name}">
                        <span>${sheikh.name}</span>
                    `;
                    item.addEventListener('click', () => {
                        document.querySelectorAll('.sheikh-item').forEach(i => i.classList.remove('active'));
                        item.classList.add('active');
                        updateOverlay(sheikh);
                    });
                    sheikhList.appendChild(item);
                });
            };

            const toggleDarkMode = () => {
                document.body.classList.toggle('dark-mode');
                const isDarkMode = document.body.classList.contains('dark-mode');
                darkModeToggle.innerHTML = isDarkMode ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
            };

            const handleSpeedChange = () => {
                if (currentAudio) {
                    currentAudio.playbackRate = parseFloat(speedControl.value);
                }
            };

            darkModeToggle.addEventListener('click', toggleDarkMode);
            speedControl.addEventListener('change', handleSpeedChange);

            playPauseButton.addEventListener('click', () => {
                if (currentAudio.paused) {
                    currentAudio.play();
                } else {
                    currentAudio.pause();
                }
            });

            stopButton.addEventListener('click', () => {
                if (currentAudio) {
                    currentAudio.pause();
                    currentAudio.currentTime = 0;
                }
            });

            rewindButton.addEventListener('click', () => {
                if (currentAudio) {
                    currentAudio.currentTime -= 10; // Rewind 10 seconds
                }
            });

            setupSheikhList();
        });
    </script>
</body>
</html>

