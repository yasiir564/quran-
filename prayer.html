<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prayer Times</title>
    <script src="https://cdn.lordicon.com/bhenfmcm.js"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KKV0H53Z9L"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1850217813586802"
     crossorigin="anonymous"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-KKV0H53Z9L');
</script>
    <style>
/* Complete Modern Prayer Times App Styles */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@400;500;600&display=swap');
@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css');

:root {
    /* Color System */
    --primary-blue: #4f46e5;
    --primary-purple: #7c3aed;
    --primary-gradient: linear-gradient(135deg, var(--primary-blue), var(--primary-purple));
    --surface-light: #ffffff;
    --surface-dark: #1e1b4b;
    --text-primary-light: #1e1b4b;
    --text-secondary-light: #4338ca;
    --text-primary-dark: #e0e7ff;
    --text-secondary-dark: #a5b4fc;
    --border-light: #e0e7ff;
    --border-dark: #4338ca;
    --hover-light: #f5f3ff;
    --hover-dark: #312e81;
    --success-green: #10b981;
    --warning-yellow: #f59e0b;
    --error-red: #ef4444;
    --info-blue: #3b82f6;

    /* Shadows */
    --shadow-sm: 0 2px 8px rgba(79, 70, 229, 0.1);
    --shadow-md: 0 4px 16px rgba(79, 70, 229, 0.15);
    --shadow-lg: 0 8px 32px rgba(79, 70, 229, 0.2);
    
    /* Spacing */
    --space-2xs: 0.125rem;
    --space-xs: 0.25rem;
    --space-sm: 0.5rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --space-xl: 2rem;
    --space-2xl: 3rem;
    --space-3xl: 4rem;

    /* Border Radius */
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 16px;
    --radius-xl: 24px;
    --radius-full: 9999px;

    /* Z-index */
    --z-loader: 9999;
    --z-modal: 1000;
    --z-dropdown: 100;
    --z-header: 50;
}

/* Reset & Base Styles */
*, *::before, *::after {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

html {
    font-size: 16px;
    scroll-behavior: smooth;
}

body {
    font-family: 'Poppins', sans-serif;
    min-height: 100vh;
    background: linear-gradient(135deg, #e0e7ff 0%, #f5f3ff 100%);
    color: var(--text-primary-light);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-md);
    transition: background-color 0.3s ease;
    position: relative;
    overflow-x: hidden;
    line-height: 1.5;
}

/* Loader */
.loader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--surface-light);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: var(--z-loader);
    transition: opacity 0.5s ease-out;
}

.loader.hidden {
    opacity: 0;
    pointer-events: none;
}

.loader-spinner {
    width: 50px;
    height: 50px;
    border: 4px solid var(--border-light);
    border-top-color: var(--primary-purple);
    border-radius: var(--radius-full);
    animation: spin 1s infinite linear;
}

/* Main Container */
.container {
    width: min(100%, 480px);
    background: var(--surface-light);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-lg);
    padding: var(--space-xl);
    border: 1px solid var(--border-light);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    animation: fadeIn 0.5s ease-out;
    margin: auto;
}

/* Clock Display */
.clock {
    font-family: 'Inter', sans-serif;
    font-size: clamp(2.5rem, 8vw, 3.5rem);
    font-weight: 700;
    margin-bottom: var(--space-lg);
    background: var(--primary-gradient);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    text-align: center;
    letter-spacing: -0.05em;
    padding: var(--space-sm) 0;
}

/* Location Display */
.location {
    text-align: center;
    margin-bottom: var(--space-xl);
    color: var(--text-secondary-light);
    font-size: 0.95rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
}

.location i {
    color: var(--primary-purple);
}

/* Prayer Times */
.prayer-times {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.prayer-time {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-lg);
    background: var(--hover-light);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border-light);
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
}

.prayer-time:hover {
    transform: translateY(-2px) scale(1.01);
    box-shadow: var(--shadow-md);
    background: var(--surface-light);
}

.prayer-time-name {
    font-weight: 600;
    color: var(--text-primary-light);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.prayer-time-hour {
    color: var(--primary-blue);
    font-weight: 500;
    font-family: 'Inter', sans-serif;
}

/* Search Component */
.search-container {
    position: relative;
    margin-bottom: var(--space-xl);
}

.search-input {
    width: 100%;
    padding: var(--space-md) var(--space-lg);
    padding-left: calc(var(--space-lg) + 24px);
    border: 2px solid var(--border-light);
    border-radius: var(--radius-lg);
    font-family: inherit;
    font-size: 1rem;
    transition: all 0.2s ease;
    background: var(--surface-light);
}

.search-input:focus {
    outline: none;
    border-color: var(--primary-blue);
    box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
}

.search-icon {
    position: absolute;
    left: var(--space-md);
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-secondary-light);
    pointer-events: none;
}

/* Settings Button */
.settings-btn {
    position: absolute;
    top: var(--space-md);
    right: var(--space-md);
    background: transparent;
    border: none;
    color: var(--text-secondary-light);
    cursor: pointer;
    padding: var(--space-xs);
    border-radius: var(--radius-full);
    transition: all 0.2s ease;
}

.settings-btn:hover {
    background: var(--hover-light);
    transform: rotate(45deg);
}

/* Notification Badge */
.notification-badge {
    position: absolute;
    top: var(--space-md);
    right: var(--space-md);
    background: var(--error-red);
    color: white;
    padding: 2px var(--space-xs);
    border-radius: var(--radius-full);
    font-size: 0.75rem;
    min-width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Toast Notifications */
.toast {
    position: fixed;
    bottom: var(--space-xl);
    right: var(--space-xl);
    background: var(--surface-light);
    border-radius: var(--radius-lg);
    padding: var(--space-md) var(--space-lg);
    box-shadow: var(--shadow-lg);
    display: flex;
    align-items: center;
    gap: var(--space-md);
    animation: slideIn 0.3s ease-out;
    z-index: var(--z-modal);
    border-left: 4px solid var(--primary-purple);
}

.toast.success { border-left-color: var(--success-green); }
.toast.error { border-left-color: var(--error-red); }
.toast.warning { border-left-color: var(--warning-yellow); }
.toast.info { border-left-color: var(--info-blue); }

/* Dropdown Menu */
.dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-content {
    position: absolute;
    top: 100%;
    right: 0;
    background: var(--surface-light);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    padding: var(--space-xs);
    min-width: 200px;
    z-index: var(--z-dropdown);
    opacity: 0;
    transform: translateY(-10px);
    pointer-events: none;
    transition: all 0.2s ease;
}

.dropdown.active .dropdown-content {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
}

.dropdown-item {
    padding: var(--space-sm) var(--space-md);
    color: var(--text-primary-light);
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    border-radius: var(--radius-md);
    transition: all 0.2s ease;
}

.dropdown-item:hover {
    background: var(--hover-light);
}

/* Animations */
@keyframes spin {
    to { transform: rotate(360deg); }
}

@keyframes fadeIn {
    from { 
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* Dark Mode */
body.dark-mode {
    background: linear-gradient(135deg, #1e1b4b 0%, #2e1065 100%);
}

body.dark-mode .container,
body.dark-mode .dropdown-content,
body.dark-mode .toast {
    background: var(--surface-dark);
    border-color: var(--border-dark);
}

body.dark-mode .prayer-time {
    background: var(--hover-dark);
    border-color: var(--border-dark);
}

body.dark-mode .prayer-time-name {
    color: var(--text-primary-dark);
}

body.dark-mode .prayer-time-hour {
    color: var(--text-secondary-dark);
}

body.dark-mode .search-input {
    background: var(--surface-dark);
    border-color: var(--border-dark);
    color: var(--text-primary-dark);
}

body.dark-mode .search-icon,
body.dark-mode .settings-btn {
    color: var(--text-secondary-dark);
}

body.dark-mode .dropdown-item {
    color: var(--text-primary-dark);
}

body.dark-mode .dropdown-item:hover {
    background: var(--hover-dark);
}

/* Responsive Design */
@media (max-width: 768px) {
    .container {
        padding: var(--space-lg);
        border-radius: var(--radius-lg);
    }

    .prayer-time {
        padding: var(--space-md);
    }

    .clock {
        font-size: clamp(2rem, 6vw, 2.5rem);
    }

    .search-input {
        font-size: 0.95rem;
        padding: var(--space-sm) var(--space-lg);
    }

    .toast {
        left: var(--space-md);
        right: var(--space-md);
        bottom: var(--space-md);
    }
}

@media (max-width: 480px) {
    body {
        padding: var(--space-sm);
    }

    .container {
        padding: var(--space-md);
        border-radius: var(--radius-md);
    }

    .prayer-time {
        padding: var(--space-sm) var(--space-md);
    }

    .prayer-time-name,
    .prayer-time-hour {
        font-size: 0.9rem;
    }

    .dropdown-content {
        min-width: 160px;
    }
}

/* Print Styles */
@media print {
    .container {
        box-shadow: none;
        border: none;
    }

    .loader,
    .search-container,
    .settings-btn,
    .toast,
    .dropdown {
        display: none;
    }

    .prayer-time {
        break-inside: avoid;
        page-break-inside: avoid;
    }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

.visually-hidden {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* Focus Styles */
:focus-visible {
    outline: 2px solid var(--primary-blue);
    outline-offset: 2px;
}

/* Button Styles */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-sm) var(--space-lg);
    border-radius: var(--radius-md);
    font-weight: 500;
    transition: all 0.2s ease;
    cursor: pointer;
    gap: var(--space-sm);
    border: none;
    font-family: inherit;
    font-size: 0.95rem;
}

.btn-primary {
    background: var(--primary-gradient);
    color: white;
    box-shadow: var(--shadow-sm);
}

.btn-primary:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
}

.btn-secondary {
    background: var(--hover-light);
    color: var(--text-primary-light);
}

.btn-secondary:hover {
    background: var(--border-light);
}

.btn-icon {
    padding: var(--space-sm);
    border-radius: var(--radius-full);
}

/* Modal Styles */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: var(--z-modal);
    padding: var(--space-md);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
    backdrop-filter: blur(4px);
}

.modal-overlay.active {
    opacity: 1;
    pointer-events: auto;
}

.modal {
    background: var(--surface-light);
    border-radius: var(--radius-lg);
    padding: var(--space-xl);
    width: min(100%, 400px);
    position: relative;
    transform: translateY(20px);
    transition: transform 0.3s ease;
}

.modal-overlay.active .modal {
    transform: translateY(0);
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-lg);
}

.modal-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-primary-light);
}

.modal-close {
    background: none;
    border: none;
    color: var(--text-secondary-light);
    cursor: pointer;
    padding: var(--space-xs);
    border-radius: var(--radius-full);
    transition: all 0.2s ease;
}

.modal-close:hover {
    background: var(--hover-light);
    transform: rotate(90deg);
}

/* Settings Panel */
.settings-panel {
    display: grid;
    gap: var(--space-lg);
}

.settings-group {
    display: grid;
    gap: var(--space-sm);
}

.settings-label {
    font-weight: 500;
    color: var(--text-primary-light);
}

/* Switch Toggle */
.switch {
    position: relative;
    display: inline-block;
    width: 48px;
    height: 24px;
}

.switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.switch-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--border-light);
    transition: .4s;
    border-radius: var(--radius-full);
}

.switch-slider:before {
    position: absolute;
    content: "";
    height: 18px;
    width: 18px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
}

input:checked + .switch-slider {
    background: var(--primary-gradient);
}

input:checked + .switch-slider:before {
    transform: translateX(24px);
}

/* Progress Bar */
.progress-container {
    width: 100%;
    background: var(--hover-light);
    border-radius: var(--radius-full);
    height: 8px;
    overflow: hidden;
    margin: var(--space-sm) 0;
}

.progress-bar {
    height: 100%;
    background: var(--primary-gradient);
    transition: width 0.3s ease;
}

/* Next Prayer Indicator */
.next-prayer {
    background: var(--primary-gradient);
    color: white;
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-sm);
    font-size: 0.75rem;
    font-weight: 500;
    position: absolute;
    top: 0;
    right: var(--space-md);
    transform: translateY(-50%);
}

/* Calendar View */
.calendar {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: var(--space-xs);
    margin-top: var(--space-lg);
}

.calendar-header {
    grid-column: 1 / -1;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
}

.calendar-day {
    aspect-ratio: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all 0.2s ease;
}

.calendar-day:hover {
    background: var(--hover-light);
}

.calendar-day.active {
    background: var(--primary-gradient);
    color: white;
}

/* Dark mode additions */
body.dark-mode .modal,
body.dark-mode .calendar-day {
    background: var(--surface-dark);
}

body.dark-mode .btn-secondary {
    background: var(--hover-dark);
    color: var(--text-primary-dark);
}

body.dark-mode .progress-container {
    background: var(--hover-dark);
}

body.dark-mode .switch-slider {
    background-color: var(--border-dark);
}

/* High Contrast Mode */
@media (prefers-contrast: high) {
    :root {
        --primary-blue: #0000ff;
        --primary-purple: #800080;
        --text-primary-light: #000000;
        --text-secondary-light: #000000;
        --text-primary-dark: #ffffff;
        --text-secondary-dark: #ffffff;
    }
}

/* Utility Classes */
.flex { display: flex; }
.items-center { align-items: center; }
.justify-between { justify-content: space-between; }
.gap-sm { gap: var(--space-sm); }
.gap-md { gap: var(--space-md); }
.mt-sm { margin-top: var(--space-sm); }
.mt-md { margin-top: var(--space-md); }
.mt-lg { margin-top: var(--space-lg); }
.mb-sm { margin-bottom: var(--space-sm); }
.mb-md { margin-bottom: var(--space-md); }
.mb-lg { margin-bottom: var(--space-lg); }

/* Error States */
.error-state {
    text-align: center;
    padding: var(--space-xl);
    color: var(--error-red);
}

.error-state i {
    font-size: 2rem;
    margin-bottom: var(--space-md);
}

/* Loading States */
.loading-placeholder {
    background: linear-gradient(90deg, 
        var(--hover-light) 25%, 
        var(--border-light) 50%, 
        var(--hover-light) 75%
    );
    background-size: 200% 100%;
    animation: loading 1.5s infinite;
    border-radius: var(--radius-md);
    height: 24px;
    margin: var(--space-xs) 0;
}

@keyframes loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}
    </style>
</head>

<body>
    <div id="mySidebar" class="sidebar">
        <a href="javascript:void(0)" class="closebtn" id="closeSidebarBtn">&times;</a>
        <a href="index.html">
            <lord-icon src="https://cdn.lordicon.com/jvucoldz.json" trigger="hover" colors="primary:#ffffff,secondary:#08a88a" style="width:50px;height:50px"></lord-icon> Read Quran
        </a>
        <a href="juzz.html">
            <lord-icon src="https://cdn.lordicon.com/hpivxauj.json" trigger="hover" colors="primary:#ffffff,secondary:#08a88a" style="width:50px;height:50px"></lord-icon> Read in Juzz
        </a>
        <a href="audio.html">
            <lord-icon src="https://cdn.lordicon.com/wxnxiano.json" trigger="hover" colors="primary:#ffffff,secondary:#08a88a" style="width:50px;height:50px"></lord-icon> Listen to Quran
        </a>
        <a href="prayer.html">
            <lord-icon src="https://cdn.lordicon.com/tftaqjwp.json" trigger="hover" colors="primary:#ffffff,secondary:#08a88a" style="width:50px;height:50px"></lord-icon> Prayer Time
        </a>
        <a href="donate.html">
            <lord-icon src="https://cdn.lordicon.com/rjzlnunf.json" trigger="hover" colors="primary:#ffffff,secondary:#08a88a" style="width:50px;height:50px"></lord-icon> Donate with Love
        </a>
    </div>

    <div id="main">
        <button class="openbtn" onclick="openNav()">&#9776; Quran Pro</button>
    </div>
    <div class="container">
        <div class="dark-mode-toggle"></div>
        <div class="clock" id="clock"></div>
        <h1>Prayer Times</h1>
        <div id="location"></div>
        <div class="country-search">
            <input type="text" id="country-search-input" placeholder="Search for a country...">
            <button id="search-button"><i class="fas fa-search"></i> Search</button>
        </div>
        <div id="country-list" class="country-list"></div>
        <div id="prayer-times">
            <div class="prayer-time">
                <span>Fajr:</span> <span id="fajr"></span>
            </div>
            <div class="prayer-time">
                <span>Dhuhr:</span> <span id="dhuhr"></span>
            </div>
            <div class="prayer-time">
                <span>Asr:</span> <span id="asr"></span>
            </div>
            <div class="prayer-time">
                <span>Maghrib:</span> <span id="maghrib"></span>
            </div>
            <div class="prayer-time">
                <span>Isha:</span> <span id="isha"></span>
            </div>
        </div>
    </div>

    <div class="tip-container" id="tipContainer">
        <div class="tip-content" id="tipContent"></div>
        <button class="tip-close" id="tipClose">&times;</button>
    </div>
    <div id="foremediaads-e1"></div>
<script type="text/javascript" async src="https://platform.foremedia.net/code/56985/e1"></script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        function openNav() {
            document.getElementById("mySidebar").style.left = "0";
        }

        document.getElementById("closeSidebarBtn").addEventListener("click", function () {
            document.getElementById("mySidebar").style.left = "-250px";
        });

        document.addEventListener("DOMContentLoaded", function() {
            // Clock functionality
            function updateClock() {
                const now = new Date();
                const hours = String(now.getHours()).padStart(2, '0');
                const minutes = String(now.getMinutes()).padStart(2, '0');
                const seconds = String(now.getSeconds()).padStart(2, '0');
                const timeString = `${hours}:${minutes}:${seconds}`;
                document.getElementById('clock').textContent = timeString;
            }
            setInterval(updateClock, 1000);
            updateClock();

            // Get user's location
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition, showError);
            } else {
                Swal.fire("Error", "Geolocation is not supported by this browser.", "error");
            }

            function showPosition(position) {
                let lat = position.coords.latitude;
                let lon = position.coords.longitude;
                fetchPrayerTimes(lat, lon);
            }

            function promptForLocationSettings() {
                Swal.fire({
                    title: 'Enable Location Services',
                    text: 'Please enable location services on your device.',
                    icon: 'info',
                    confirmButtonText: 'Go to Settings'
                }).then((result) => {
                    if (result.isConfirmed) {
                        if (navigator.userAgent.match(/Android/i)) {
                            window.location.href = 'intent://settings#Intent;action=android.settings.LOCATION_SOURCE_SETTINGS;end';
                        } else if (navigator.userAgent.match(/iPhone|iPad|iPod/i)) {
                            Swal.fire('Go to your device settings and enable Location Services for your browser.');
                        }
                    }
                });
            }

            function showError(error) {
                switch(error.code) {
                    case error.PERMISSION_DENIED:
                        promptForLocationSettings();
                        break;
                    case error.POSITION_UNAVAILABLE:
                        Swal.fire("Error", "Location information is unavailable.", "error");
                        break;
                    case error.TIMEOUT:
                        Swal.fire("Error", "The request to get user location timed out.", "error");
                        break;
                    case error.UNKNOWN_ERROR:
                        Swal.fire("Error", "An unknown error occurred.", "error");
                        break;
                }
            }

            // Fetch prayer times
             function fetchPrayerTimes(lat, lon, country = null) {
                let url = `https://api.aladhan.com/v1/timings?latitude=${lat}&longitude=${lon}&method=2`;
                if (country) {
                    url = `https://api.aladhan.com/v1/timingsByCity?city=${country.city}&country=${country.name}&method=2`;
                }
                fetch(url)
                    .then(response => response.json())
                    .then(data => {
                        const timings = data.data.timings;
                        document.getElementById("fajr").textContent = timings.Fajr;
                        document.getElementById("dhuhr").textContent = timings.Dhuhr;
                        document.getElementById("asr").textContent = timings.Asr;
                        document.getElementById("maghrib").textContent = timings.Maghrib;
                        document.getElementById("isha").textContent = timings.Isha;

                        if (data.data.meta.timezone) {
                            document.getElementById("location").textContent = `Timezone: ${data.data.meta.timezone}`;
                        }

                        displayNextPrayer(timings);
                    })
                    .catch(error => {
                        Swal.fire("Error", "Failed to fetch prayer times.", "error");
                    });
            }

            // Display next prayer time
            function displayNextPrayer(timings) {
                const now = new Date();
                const prayerTimes = {
                    Fajr: new Date(`${now.toDateString()} ${timings.Fajr}`),
                    Dhuhr: new Date(`${now.toDateString()} ${timings.Dhuhr}`),
                    Asr: new Date(`${now.toDateString()} ${timings.Asr}`),
                    Maghrib: new Date(`${now.toDateString()} ${timings.Maghrib}`),
                    Isha: new Date(`${now.toDateString()} ${timings.Isha}`)
                };
                let nextPrayer = null;
                for (let [prayer, time] of Object.entries(prayerTimes)) {
                    if (now < time) {
                        nextPrayer = prayer;
                        break;
                    }
                }
                if (!nextPrayer) {
                    nextPrayer = "Fajr";
                }
                document.querySelector('.prayer-time span').textContent = `${nextPrayer}:`;
            }

            // Search country functionality
            document.getElementById("search-button").addEventListener("click", function() {
                const country = document.getElementById("country-search-input").value.trim();
                if (country) {
                    fetch(`https://restcountries.com/v3.1/name/${country}`)
                        .then(response => {
                            if (!response.ok) {
                                throw new Error('Country not found');
                            }
                            return response.json();
                        })
                        .then(data => {
                            if (data && data[0]) {
                                fetchPrayerTimes(null, null, {
                                    name: data[0].name.common,
                                    city: data[0].capital ? data[0].capital[0] : country
                                });
                            } else {
                                throw new Error('Country not found');
                            }
                        })
                        .catch(error => {
                            Swal.fire("Error", error.message, "error");
                        });
                }
            });

            // Dark mode toggle
            document.querySelector(".dark-mode-toggle").addEventListener("click", function() {
                document.body.classList.toggle("dark-mode");
            });

            // Tip feature
            const tips = [
                "Turn on location services on your device for accurate prayer times.",
                "Use the search feature to find prayer times for any country.",
                "Toggle dark mode for a more comfortable viewing experience at night.",
                "The clock at the top shows your current local time.",
                "Prayer times are automatically updated based on your location.",
                "Click on the menu icon to access other Quran Pro features."
            ];

            const tipContainer = document.getElementById("tipContainer");
            const tipContent = document.getElementById("tipContent");
            const tipClose = document.getElementById("tipClose");

            let currentTipIndex = 0;

            function showNextTip() {
                tipContent.textContent = tips[currentTipIndex];
                currentTipIndex = (currentTipIndex + 1) % tips.length;
            }

            function toggleTip() {
                tipContainer.style.display = tipContainer.style.display === "none" ? "flex" : "none";
            }

            tipClose.addEventListener("click", toggleTip);

            // Show initial tip
            showNextTip();

            // Change tip every 10 seconds
            setInterval(showNextTip, 10000);
        });
    </script>
</body>

</html>
